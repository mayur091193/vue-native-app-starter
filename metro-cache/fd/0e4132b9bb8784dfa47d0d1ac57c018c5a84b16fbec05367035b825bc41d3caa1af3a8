{"dependencies":[{"name":"../base","data":{"isAsync":false}},{"name":"../derived","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _base = _$$_REQUIRE(_dependencyMap[0], \"../base\");\n\n  var _derived = _$$_REQUIRE(_dependencyMap[1], \"../derived\");\n\n  var VELOCITY_EPS = 5;\n\n  function decay(clock, state, config) {\n    var lastTime = (0, _base.cond)(state.time, state.time, clock);\n    var deltaTime = (0, _base.sub)(clock, lastTime);\n    var kv = (0, _base.pow)(config.deceleration, deltaTime);\n    var kx = (0, _base.divide)((0, _base.multiply)(config.deceleration, (0, _base.sub)(1, kv)), (0, _base.sub)(1, config.deceleration));\n    var v0 = (0, _base.divide)(state.velocity, 1000);\n    var v = (0, _base.multiply)(v0, kv, 1000);\n    var x = (0, _base.add)(state.position, (0, _base.multiply)(v0, kx));\n    return (0, _base.block)([(0, _base.set)(state.position, x), (0, _base.set)(state.velocity, v), (0, _base.set)(state.time, clock), (0, _base.cond)((0, _base.lessThan)((0, _derived.abs)(v), VELOCITY_EPS), (0, _base.set)(state.finished, 1))]);\n  }\n\n  var procDecay = (0, _base.proc)(function (clock, time, velocity, position, finished, deceleration) {\n    return decay(clock, {\n      time: time,\n      velocity: velocity,\n      position: position,\n      finished: finished\n    }, {\n      deceleration: deceleration\n    });\n  });\n\n  var _default = function _default(clock, _ref, _ref2) {\n    var time = _ref.time,\n        velocity = _ref.velocity,\n        position = _ref.position,\n        finished = _ref.finished;\n    var deceleration = _ref2.deceleration;\n    return procDecay(clock, time, velocity, position, finished, deceleration);\n  };\n\n  exports.default = _default;\n});","map":[[7,0,1,0],[9,0,13,0],[11,0,15,0],[11,6,15,6,"VELOCITY_EPS"],[11,18,15,18],[11,21,15,21],[11,22,15,0],[13,0,17,0],[13,11,17,9,"decay"],[13,16,17,0],[13,17,17,15,"clock"],[13,22,17,0],[13,24,17,22,"state"],[13,29,17,0],[13,31,17,29,"config"],[13,37,17,0],[13,39,17,37],[14,0,18,2],[14,8,18,8,"lastTime"],[14,16,18,16],[14,19,18,19],[14,35,18,24,"state"],[14,40,18,29],[14,41,18,30,"time"],[14,45,18,19],[14,47,18,36,"state"],[14,52,18,41],[14,53,18,42,"time"],[14,57,18,19],[14,59,18,48,"clock"],[14,64,18,19],[14,65,18,2],[15,0,19,2],[15,8,19,8,"deltaTime"],[15,17,19,17],[15,20,19,20],[15,35,19,24,"clock"],[15,40,19,20],[15,42,19,31,"lastTime"],[15,50,19,20],[15,51,19,2],[16,0,27,2],[16,8,27,8,"kv"],[16,10,27,10],[16,13,27,13],[16,28,27,17,"config"],[16,34,27,23],[16,35,27,24,"deceleration"],[16,47,27,13],[16,49,27,38,"deltaTime"],[16,58,27,13],[16,59,27,2],[17,0,28,2],[17,8,28,8,"kx"],[17,10,28,10],[17,13,28,13],[17,31,29,4],[17,51,29,13,"config"],[17,57,29,19],[17,58,29,20,"deceleration"],[17,70,29,4],[17,72,29,34],[17,87,29,38],[17,88,29,34],[17,90,29,41,"kv"],[17,92,29,34],[17,93,29,4],[17,94,28,13],[17,96,30,4],[17,111,30,8],[17,112,30,4],[17,114,30,11,"config"],[17,120,30,17],[17,121,30,18,"deceleration"],[17,133,30,4],[17,134,28,13],[17,135,28,2],[18,0,32,2],[18,8,32,8,"v0"],[18,10,32,10],[18,13,32,13],[18,31,32,20,"state"],[18,36,32,25],[18,37,32,26,"velocity"],[18,45,32,13],[18,47,32,36],[18,51,32,13],[18,52,32,2],[19,0,33,2],[19,8,33,8,"v"],[19,9,33,9],[19,12,33,12],[19,32,33,21,"v0"],[19,34,33,12],[19,36,33,25,"kv"],[19,38,33,12],[19,40,33,29],[19,44,33,12],[19,45,33,2],[20,0,34,2],[20,8,34,8,"x"],[20,9,34,9],[20,12,34,12],[20,27,34,16,"state"],[20,32,34,21],[20,33,34,22,"position"],[20,41,34,12],[20,43,34,32],[20,63,34,41,"v0"],[20,65,34,32],[20,67,34,45,"kx"],[20,69,34,32],[20,70,34,12],[20,71,34,2],[21,0,35,2],[21,11,35,9],[21,28,35,15],[21,29,36,4],[21,44,36,8,"state"],[21,49,36,13],[21,50,36,14,"position"],[21,58,36,4],[21,60,36,24,"x"],[21,61,36,4],[21,62,35,15],[21,64,37,4],[21,79,37,8,"state"],[21,84,37,13],[21,85,37,14,"velocity"],[21,93,37,4],[21,95,37,24,"v"],[21,96,37,4],[21,97,35,15],[21,99,38,4],[21,114,38,8,"state"],[21,119,38,13],[21,120,38,14,"time"],[21,124,38,4],[21,126,38,20,"clock"],[21,131,38,4],[21,132,35,15],[21,134,39,4],[21,150,39,9],[21,170,39,18],[21,188,39,22,"v"],[21,189,39,18],[21,190,39,9],[21,192,39,26,"VELOCITY_EPS"],[21,204,39,9],[21,205,39,4],[21,207,39,41],[21,222,39,45,"state"],[21,227,39,50],[21,228,39,51,"finished"],[21,236,39,41],[21,238,39,61],[21,239,39,41],[21,240,39,4],[21,241,35,15],[21,242,35,9],[21,243,35,2],[22,0,41,1],[24,0,43,0],[24,6,43,6,"procDecay"],[24,15,43,15],[24,18,43,18],[24,34,44,2],[24,44,44,3,"clock"],[24,49,44,2],[24,51,44,10,"time"],[24,55,44,2],[24,57,44,16,"velocity"],[24,65,44,2],[24,67,44,26,"position"],[24,75,44,2],[24,77,44,36,"finished"],[24,85,44,2],[24,87,44,46,"deceleration"],[24,99,44,2],[25,0,44,2],[25,11,45,4,"decay"],[25,16,45,9],[25,17,45,10,"clock"],[25,22,45,9],[25,24,45,17],[26,0,45,19,"time"],[26,6,45,19,"time"],[26,10,45,23],[26,12,45,19,"time"],[26,16,45,17],[27,0,45,25,"velocity"],[27,6,45,25,"velocity"],[27,14,45,33],[27,16,45,25,"velocity"],[27,24,45,17],[28,0,45,35,"position"],[28,6,45,35,"position"],[28,14,45,43],[28,16,45,35,"position"],[28,24,45,17],[29,0,45,45,"finished"],[29,6,45,45,"finished"],[29,14,45,53],[29,16,45,45,"finished"],[30,0,45,17],[30,5,45,9],[30,7,45,57],[31,0,45,59,"deceleration"],[31,6,45,59,"deceleration"],[31,18,45,71],[31,20,45,59,"deceleration"],[32,0,45,57],[32,5,45,9],[32,6,44,2],[33,0,44,2],[33,3,43,18],[33,4,43,0],[35,17,48,15],[35,35,49,2,"clock"],[35,40,48,15],[36,0,48,15],[36,8,50,4,"time"],[36,12,48,15],[36,20,50,4,"time"],[36,24,48,15],[37,0,48,15],[37,8,50,10,"velocity"],[37,16,48,15],[37,24,50,10,"velocity"],[37,32,48,15],[38,0,48,15],[38,8,50,20,"position"],[38,16,48,15],[38,24,50,20,"position"],[38,32,48,15],[39,0,48,15],[39,8,50,30,"finished"],[39,16,48,15],[39,24,50,30,"finished"],[39,32,48,15],[40,0,48,15],[40,8,51,4,"deceleration"],[40,20,48,15],[40,29,51,4,"deceleration"],[40,41,48,15],[41,0,48,15],[41,11,52,5,"procDecay"],[41,20,52,14],[41,21,52,15,"clock"],[41,26,52,14],[41,28,52,22,"time"],[41,32,52,14],[41,34,52,28,"velocity"],[41,42,52,14],[41,44,52,38,"position"],[41,52,52,14],[41,54,52,48,"finished"],[41,62,52,14],[41,64,52,58,"deceleration"],[41,76,52,14],[41,77,48,15],[42,0,48,15],[42,3]]},"type":"js/module"}]}
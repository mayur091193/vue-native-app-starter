{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"expo-constants","data":{"isAsync":false}},{"name":"qs","data":{"isAsync":false}},{"name":"expo-web-browser","data":{"isAsync":false}},{"name":"./Linking/Linking","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/regenerator\"));\n\n  var _expoConstants = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"expo-constants\"));\n\n  var _qs = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"qs\"));\n\n  var _expoWebBrowser = _$$_REQUIRE(_dependencyMap[5], \"expo-web-browser\");\n\n  var _Linking = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./Linking/Linking\"));\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  var BASE_URL = \"https://auth.expo.io\";\n  var _authLock = false;\n\n  function startAsync(options) {\n    var returnUrl, authUrl, startUrl, result, _parseUrl, params, errorCode;\n\n    return _regenerator.default.async(function startAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            returnUrl = options.returnUrl || getDefaultReturnUrl();\n            authUrl = options.authUrl;\n            startUrl = getStartUrl(authUrl, returnUrl);\n\n            if (authUrl) {\n              _context.next = 5;\n              break;\n            }\n\n            throw new Error('No authUrl provided to AuthSession.startAsync. An authUrl is required -- it points to the page where the user will be able to sign in.');\n\n          case 5:\n            if (!_authLock) {\n              _context.next = 8;\n              break;\n            }\n\n            if (__DEV__) {\n              console.warn('Attempted to call AuthSession.startAsync multiple times while already active. Only one AuthSession can be active at any given time.');\n            }\n\n            return _context.abrupt(\"return\", {\n              type: 'locked'\n            });\n\n          case 8:\n            _authLock = true;\n            _context.prev = 9;\n            _context.next = 12;\n            return _regenerator.default.awrap(_openWebBrowserAsync(startUrl, returnUrl));\n\n          case 12:\n            result = _context.sent;\n\n          case 13:\n            _context.prev = 13;\n            _authLock = false;\n            return _context.finish(13);\n\n          case 16:\n            if (result) {\n              _context.next = 18;\n              break;\n            }\n\n            throw new Error('Unexpected missing AuthSession result');\n\n          case 18:\n            if (result.url) {\n              _context.next = 24;\n              break;\n            }\n\n            if (!result.type) {\n              _context.next = 23;\n              break;\n            }\n\n            return _context.abrupt(\"return\", result);\n\n          case 23:\n            throw new Error('Unexpected AuthSession result with missing type');\n\n          case 24:\n            _parseUrl = parseUrl(result.url), params = _parseUrl.params, errorCode = _parseUrl.errorCode;\n            return _context.abrupt(\"return\", {\n              type: errorCode ? 'error' : 'success',\n              params: params,\n              errorCode: errorCode,\n              url: result.url\n            });\n\n          case 26:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[9,, 13, 16]]);\n  }\n\n  function dismiss() {\n    (0, _expoWebBrowser.dismissAuthSession)();\n  }\n\n  function _openWebBrowserAsync(startUrl, returnUrl) {\n    var result;\n    return _regenerator.default.async(function _openWebBrowserAsync$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regenerator.default.awrap((0, _expoWebBrowser.openAuthSessionAsync)(startUrl, returnUrl));\n\n          case 2:\n            result = _context2.sent;\n\n            if (!(result.type === 'cancel' || result.type === 'dismiss')) {\n              _context2.next = 5;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", {\n              type: result.type\n            });\n\n          case 5:\n            return _context2.abrupt(\"return\", result);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  }\n\n  function getStartUrl(authUrl, returnUrl) {\n    var queryString = _qs.default.stringify({\n      authUrl: authUrl,\n      returnUrl: returnUrl\n    });\n\n    return getRedirectUrl() + \"/start?\" + queryString;\n  }\n\n  function getRedirectUrl() {\n    var redirectUrl = BASE_URL + \"/\" + _expoConstants.default.manifest.id;\n\n    if (__DEV__) {\n      _warnIfAnonymous(_expoConstants.default.manifest.id, redirectUrl);\n    }\n\n    return redirectUrl;\n  }\n\n  function getDefaultReturnUrl() {\n    return _Linking.default.makeUrl('expo-auth-session');\n  }\n\n  function parseUrl(url) {\n    var parts = url.split('#');\n    var hash = parts[1];\n    var partsWithoutHash = parts[0].split('?');\n    var queryString = partsWithoutHash[partsWithoutHash.length - 1];\n\n    var parsedSearch = _qs.default.parse(queryString);\n\n    var errorCode = parsedSearch.errorCode;\n    delete parsedSearch.errorCode;\n    var parsedHash = {};\n\n    if (parts[1]) {\n      parsedHash = _qs.default.parse(hash);\n    }\n\n    var params = _objectSpread({}, parsedSearch, {}, parsedHash);\n\n    return {\n      errorCode: errorCode,\n      params: params\n    };\n  }\n\n  function _warnIfAnonymous(id, url) {\n    if (id.startsWith('@anonymous/')) {\n      console.warn(\"You are not currently signed in to Expo on your development machine. As a result, the redirect URL for AuthSession will be \\\"\" + url + \"\\\". If you are using an OAuth provider that requires whitelisting redirect URLs, we recommend that you do not whitelist this URL -- instead, you should sign in to Expo to acquired a unique redirect URL. Additionally, if you do decide to publish this app using Expo, you will need to register an account to do it.\");\n    }\n  }\n\n  var _default = {\n    dismiss: dismiss,\n    getRedirectUrl: getRedirectUrl,\n    getStartUrl: getStartUrl,\n    getDefaultReturnUrl: getDefaultReturnUrl,\n\n    get getRedirectUri() {\n      console.warn('Use AuthSession.getRedirectUrl rather than AuthSession.getRedirectUri (Url instead of Uri)');\n      return getRedirectUrl;\n    },\n\n    startAsync: startAsync\n  };\n  exports.default = _default;\n});","map":[[13,0,1,0],[15,0,2,0],[17,0,3,0],[19,0,4,0],[25,0,5,0],[25,6,5,6,"BASE_URL"],[25,14,5,14],[25,39,5,0],[26,0,6,0],[26,6,6,4,"_authLock"],[26,15,6,13],[26,18,6,16],[26,23,6,0],[28,0,7,0],[28,11,7,15,"startAsync"],[28,21,7,0],[28,22,7,26,"options"],[28,29,7,0],[29,0,7,0],[31,0,7,0],[32,0,7,0],[33,0,7,0],[34,0,7,0],[35,0,8,10,"returnUrl"],[35,12,8,10,"returnUrl"],[35,21,7,0],[35,24,8,22,"options"],[35,31,8,29],[35,32,8,30,"returnUrl"],[35,41,8,22],[35,45,8,43,"getDefaultReturnUrl"],[35,64,8,62],[35,66,7,0],[36,0,9,10,"authUrl"],[36,12,9,10,"authUrl"],[36,19,7,0],[36,22,9,20,"options"],[36,29,9,27],[36,30,9,28,"authUrl"],[36,37,7,0],[37,0,10,10,"startUrl"],[37,12,10,10,"startUrl"],[37,20,7,0],[37,23,10,21,"getStartUrl"],[37,34,10,32],[37,35,10,33,"authUrl"],[37,42,10,32],[37,44,10,42,"returnUrl"],[37,53,10,32],[37,54,7,0],[39,0,7,0],[39,16,12,9,"authUrl"],[39,23,7,0],[40,0,7,0],[41,0,7,0],[42,0,7,0],[44,0,7,0],[44,18,13,14],[44,22,13,18,"Error"],[44,27,13,14],[44,28,13,24],[44,164,13,14],[44,165,7,0],[46,0,7,0],[47,0,7,0],[47,17,17,8,"_authLock"],[47,26,7,0],[48,0,7,0],[49,0,7,0],[50,0,7,0],[52,0,18,8],[52,16,18,12,"__DEV__"],[52,23,18,8],[52,25,18,21],[53,0,19,12,"console"],[53,14,19,12,"console"],[53,21,19,19],[53,22,19,20,"warn"],[53,26,19,12],[53,27,19,25],[53,160,19,12],[54,0,20,9],[56,0,7,0],[56,45,21,15],[57,0,21,17,"type"],[57,14,21,17,"type"],[57,18,21,21],[57,20,21,23],[58,0,21,15],[58,13,7,0],[60,0,7,0],[61,0,24,4,"_authLock"],[61,12,24,4,"_authLock"],[61,21,24,13],[61,24,24,16],[61,28,24,4],[62,0,7,0],[63,0,7,0],[64,0,7,0],[64,46,27,23,"_openWebBrowserAsync"],[64,66,27,43],[64,67,27,44,"startUrl"],[64,75,27,43],[64,77,27,54,"returnUrl"],[64,86,27,43],[64,87,7,0],[66,0,7,0],[67,0,27,8,"result"],[67,12,27,8,"result"],[67,18,7,0],[69,0,7,0],[70,0,7,0],[71,0,31,8,"_authLock"],[71,12,31,8,"_authLock"],[71,21,31,17],[71,24,31,20],[71,29,31,8],[72,0,7,0],[74,0,7,0],[75,0,7,0],[75,16,34,9,"result"],[75,22,7,0],[76,0,7,0],[77,0,7,0],[78,0,7,0],[80,0,7,0],[80,18,35,14],[80,22,35,18,"Error"],[80,27,35,14],[80,28,35,24],[80,67,35,14],[80,68,7,0],[82,0,7,0],[83,0,7,0],[83,16,37,9,"result"],[83,22,37,15],[83,23,37,16,"url"],[83,26,7,0],[84,0,7,0],[85,0,7,0],[86,0,7,0],[88,0,7,0],[88,17,38,12,"result"],[88,23,38,18],[88,24,38,19,"type"],[88,28,7,0],[89,0,7,0],[90,0,7,0],[91,0,7,0],[93,0,7,0],[93,45,39,19,"result"],[93,51,7,0],[95,0,7,0],[96,0,7,0],[96,18,42,18],[96,22,42,22,"Error"],[96,27,42,18],[96,28,42,28],[96,77,42,18],[96,78,7,0],[98,0,7,0],[99,0,7,0],[99,24,45,32,"parseUrl"],[99,32,45,40],[99,33,45,41,"result"],[99,39,45,47],[99,40,45,48,"url"],[99,43,45,40],[99,44,7,0],[99,46,45,10,"params"],[99,52,7,0],[99,65,45,10,"params"],[99,71,7,0],[99,73,45,18,"errorCode"],[99,82,7,0],[99,95,45,18,"errorCode"],[99,104,7,0],[100,0,7,0],[100,45,46,11],[101,0,47,8,"type"],[101,14,47,8,"type"],[101,18,47,12],[101,20,47,14,"errorCode"],[101,29,47,23],[101,32,47,26],[101,39,47,23],[101,42,47,36],[101,51,46,11],[102,0,48,8,"params"],[102,14,48,8,"params"],[102,20,48,14],[102,22,48,8,"params"],[102,28,46,11],[103,0,49,8,"errorCode"],[103,14,49,8,"errorCode"],[103,23,49,17],[103,25,49,8,"errorCode"],[103,34,46,11],[104,0,50,8,"url"],[104,14,50,8,"url"],[104,17,50,11],[104,19,50,13,"result"],[104,25,50,19],[104,26,50,20,"url"],[105,0,46,11],[105,13,7,0],[107,0,7,0],[108,0,7,0],[109,0,7,0],[110,0,7,0],[111,0,7,0],[112,0,7,0],[113,0,7,0],[115,0,53,0],[115,11,53,9,"dismiss"],[115,18,53,0],[115,21,53,19],[116,0,54,4],[117,0,55,1],[119,0,56,0],[119,11,56,15,"_openWebBrowserAsync"],[119,31,56,0],[119,32,56,36,"startUrl"],[119,40,56,0],[119,42,56,46,"returnUrl"],[119,51,56,0],[120,0,56,0],[121,0,56,0],[122,0,56,0],[123,0,56,0],[124,0,56,0],[125,0,56,0],[126,0,56,0],[126,46,58,23],[126,88,58,44,"startUrl"],[126,96,58,23],[126,98,58,54,"returnUrl"],[126,107,58,23],[126,108,56,0],[128,0,56,0],[129,0,58,8,"result"],[129,12,58,8,"result"],[129,18,56,0],[131,0,56,0],[131,18,59,8,"result"],[131,24,59,14],[131,25,59,15,"type"],[131,29,59,8],[131,34,59,24],[131,42,59,8],[131,46,59,36,"result"],[131,52,59,42],[131,53,59,43,"type"],[131,57,59,36],[131,62,59,52],[131,71,56,0],[132,0,56,0],[133,0,56,0],[134,0,56,0],[136,0,56,0],[136,46,60,15],[137,0,60,17,"type"],[137,14,60,17,"type"],[137,18,60,21],[137,20,60,23,"result"],[137,26,60,29],[137,27,60,30,"type"],[138,0,60,15],[138,13,56,0],[140,0,56,0],[141,0,56,0],[141,46,62,11,"result"],[141,52,56,0],[143,0,56,0],[144,0,56,0],[145,0,56,0],[146,0,56,0],[147,0,56,0],[148,0,56,0],[149,0,56,0],[151,0,64,0],[151,11,64,9,"getStartUrl"],[151,22,64,0],[151,23,64,21,"authUrl"],[151,30,64,0],[151,32,64,30,"returnUrl"],[151,41,64,0],[151,43,64,41],[152,0,65,4],[152,8,65,8,"queryString"],[152,19,65,19],[152,22,65,22,"qs"],[152,34,65,25,"stringify"],[152,43,65,22],[152,44,65,35],[153,0,66,8,"authUrl"],[153,6,66,8,"authUrl"],[153,13,66,15],[153,15,66,8,"authUrl"],[153,22,65,35],[154,0,67,8,"returnUrl"],[154,6,67,8,"returnUrl"],[154,15,67,17],[154,17,67,8,"returnUrl"],[155,0,65,35],[155,5,65,22],[155,6,65,4],[157,0,69,4],[157,11,69,14,"getRedirectUrl"],[157,25,69,28],[157,27,69,4],[157,42,69,40,"queryString"],[157,53,69,4],[158,0,70,1],[160,0,71,0],[160,11,71,9,"getRedirectUrl"],[160,25,71,0],[160,28,71,26],[161,0,72,4],[161,8,72,10,"redirectUrl"],[161,19,72,21],[161,22,72,27,"BASE_URL"],[161,30,72,21],[161,39,72,39,"Constants"],[161,62,72,49,"manifest"],[161,70,72,39],[161,71,72,58,"id"],[161,73,72,4],[163,0,73,4],[163,8,73,8,"__DEV__"],[163,15,73,4],[163,17,73,17],[164,0,74,8,"_warnIfAnonymous"],[164,6,74,8,"_warnIfAnonymous"],[164,22,74,24],[164,23,74,25,"Constants"],[164,46,74,35,"manifest"],[164,54,74,25],[164,55,74,44,"id"],[164,57,74,24],[164,59,74,48,"redirectUrl"],[164,70,74,24],[164,71,74,8],[165,0,75,5],[167,0,76,4],[167,11,76,11,"redirectUrl"],[167,22,76,4],[168,0,77,1],[170,0,78,0],[170,11,78,9,"getDefaultReturnUrl"],[170,30,78,0],[170,33,78,31],[171,0,79,4],[171,11,79,11,"Linking"],[171,28,79,19,"makeUrl"],[171,35,79,11],[171,36,79,27],[171,55,79,11],[171,56,79,4],[172,0,80,1],[174,0,81,0],[174,11,81,9,"parseUrl"],[174,19,81,0],[174,20,81,18,"url"],[174,23,81,0],[174,25,81,23],[175,0,82,4],[175,8,82,8,"parts"],[175,13,82,13],[175,16,82,16,"url"],[175,19,82,19],[175,20,82,20,"split"],[175,25,82,16],[175,26,82,26],[175,29,82,16],[175,30,82,4],[176,0,83,4],[176,8,83,8,"hash"],[176,12,83,12],[176,15,83,15,"parts"],[176,20,83,20],[176,21,83,21],[176,22,83,20],[176,23,83,4],[177,0,84,4],[177,8,84,8,"partsWithoutHash"],[177,24,84,24],[177,27,84,27,"parts"],[177,32,84,32],[177,33,84,33],[177,34,84,32],[177,35,84,27],[177,36,84,36,"split"],[177,41,84,27],[177,42,84,42],[177,45,84,27],[177,46,84,4],[178,0,85,4],[178,8,85,8,"queryString"],[178,19,85,19],[178,22,85,22,"partsWithoutHash"],[178,38,85,38],[178,39,85,39,"partsWithoutHash"],[178,55,85,55],[178,56,85,56,"length"],[178,62,85,39],[178,65,85,65],[178,66,85,38],[178,67,85,4],[180,0,87,4],[180,8,87,8,"parsedSearch"],[180,20,87,20],[180,23,87,23,"qs"],[180,35,87,26,"parse"],[180,40,87,23],[180,41,87,32,"queryString"],[180,52,87,23],[180,53,87,4],[182,0,81,23],[182,8,89,10,"errorCode"],[182,17,81,23],[182,20,89,24,"parsedSearch"],[182,32,81,23],[182,33,89,10,"errorCode"],[182,42,81,23],[183,0,90,4],[183,11,90,11,"parsedSearch"],[183,23,90,23],[183,24,90,24,"errorCode"],[183,33,90,4],[184,0,92,4],[184,8,92,8,"parsedHash"],[184,18,92,18],[184,21,92,21],[184,23,92,4],[186,0,93,4],[186,8,93,8,"parts"],[186,13,93,13],[186,14,93,14],[186,15,93,13],[186,16,93,4],[186,18,93,18],[187,0,94,8,"parsedHash"],[187,6,94,8,"parsedHash"],[187,16,94,18],[187,19,94,21,"qs"],[187,31,94,24,"parse"],[187,36,94,21],[187,37,94,30,"hash"],[187,41,94,21],[187,42,94,8],[188,0,95,5],[190,0,97,4],[190,8,97,8,"params"],[190,14,97,14],[190,35,98,11,"parsedSearch"],[190,47,97,14],[190,53,99,11,"parsedHash"],[190,63,97,14],[190,64,97,4],[192,0,101,4],[192,11,101,11],[193,0,102,8,"errorCode"],[193,6,102,8,"errorCode"],[193,15,102,17],[193,17,102,8,"errorCode"],[193,26,101,11],[194,0,103,8,"params"],[194,6,103,8,"params"],[194,12,103,14],[194,14,103,8,"params"],[195,0,101,11],[195,5,101,4],[196,0,105,1],[198,0,106,0],[198,11,106,9,"_warnIfAnonymous"],[198,27,106,0],[198,28,106,26,"id"],[198,30,106,0],[198,32,106,30,"url"],[198,35,106,0],[198,37,106,35],[199,0,107,4],[199,8,107,8,"id"],[199,10,107,10],[199,11,107,11,"startsWith"],[199,21,107,8],[199,22,107,22],[199,35,107,8],[199,36,107,4],[199,38,107,38],[200,0,108,8,"console"],[200,6,108,8,"console"],[200,13,108,15],[200,14,108,16,"warn"],[200,18,108,8],[200,149,108,148,"url"],[200,152,108,8],[201,0,109,5],[202,0,110,1],[204,17,111,15],[205,0,112,4,"dismiss"],[205,4,112,4,"dismiss"],[205,11,112,11],[205,13,112,4,"dismiss"],[205,20,111,15],[206,0,113,4,"getRedirectUrl"],[206,4,113,4,"getRedirectUrl"],[206,18,113,18],[206,20,113,4,"getRedirectUrl"],[206,34,111,15],[207,0,114,4,"getStartUrl"],[207,4,114,4,"getStartUrl"],[207,15,114,15],[207,17,114,4,"getStartUrl"],[207,28,111,15],[208,0,115,4,"getDefaultReturnUrl"],[208,4,115,4,"getDefaultReturnUrl"],[208,23,115,23],[208,25,115,4,"getDefaultReturnUrl"],[208,44,111,15],[210,0,116,4],[210,8,116,8,"getRedirectUri"],[210,22,116,4],[210,25,116,25],[211,0,117,8,"console"],[211,6,117,8,"console"],[211,13,117,15],[211,14,117,16,"warn"],[211,18,117,8],[211,19,117,21],[211,111,117,8],[212,0,118,8],[212,13,118,15,"getRedirectUrl"],[212,27,118,8],[213,0,119,5],[213,5,111,15],[215,0,120,4,"startAsync"],[215,4,120,4,"startAsync"],[215,14,120,14],[215,16,120,4,"startAsync"],[216,0,111,15],[216,3]]},"type":"js/module"}]}
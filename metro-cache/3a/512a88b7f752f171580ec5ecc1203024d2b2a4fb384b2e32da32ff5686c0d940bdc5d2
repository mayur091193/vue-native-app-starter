{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/get","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"./Animation","data":{"isAsync":false}},{"name":"../NativeAnimatedHelper","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var _possibleConstructorReturn = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/possibleConstructorReturn\");\n\n  var _getPrototypeOf = _$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/getPrototypeOf\");\n\n  var _get = _$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/get\");\n\n  var _inherits = _$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/inherits\");\n\n  var Animation = _$$_REQUIRE(_dependencyMap[6], \"./Animation\");\n\n  var _require = _$$_REQUIRE(_dependencyMap[7], \"../NativeAnimatedHelper\"),\n      shouldUseNativeDriver = _require.shouldUseNativeDriver;\n\n  var DecayAnimation = function (_Animation) {\n    _inherits(DecayAnimation, _Animation);\n\n    function DecayAnimation(config) {\n      var _this;\n\n      _classCallCheck(this, DecayAnimation);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(DecayAnimation).call(this));\n      _this._deceleration = config.deceleration !== undefined ? config.deceleration : 0.998;\n      _this._velocity = config.velocity;\n      _this._useNativeDriver = shouldUseNativeDriver(config);\n      _this.__isInteraction = config.isInteraction !== undefined ? config.isInteraction : true;\n      _this.__iterations = config.iterations !== undefined ? config.iterations : 1;\n      return _this;\n    }\n\n    _createClass(DecayAnimation, [{\n      key: \"__getNativeAnimationConfig\",\n      value: function __getNativeAnimationConfig() {\n        return {\n          type: 'decay',\n          deceleration: this._deceleration,\n          velocity: this._velocity,\n          iterations: this.__iterations\n        };\n      }\n    }, {\n      key: \"start\",\n      value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {\n        this.__active = true;\n        this._lastValue = fromValue;\n        this._fromValue = fromValue;\n        this._onUpdate = onUpdate;\n        this.__onEnd = onEnd;\n        this._startTime = Date.now();\n\n        if (this._useNativeDriver) {\n          this.__startNativeAnimation(animatedValue);\n        } else {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate() {\n        var now = Date.now();\n        var value = this._fromValue + this._velocity / (1 - this._deceleration) * (1 - Math.exp(-(1 - this._deceleration) * (now - this._startTime)));\n\n        this._onUpdate(value);\n\n        if (Math.abs(this._lastValue - value) < 0.1) {\n          this.__debouncedOnEnd({\n            finished: true\n          });\n\n          return;\n        }\n\n        this._lastValue = value;\n\n        if (this.__active) {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        _get(_getPrototypeOf(DecayAnimation.prototype), \"stop\", this).call(this);\n\n        this.__active = false;\n        global.cancelAnimationFrame(this._animationFrame);\n\n        this.__debouncedOnEnd({\n          finished: false\n        });\n      }\n    }]);\n\n    return DecayAnimation;\n  }(Animation);\n\n  module.exports = DecayAnimation;\n});","map":[[2,0,10,0],[16,0,12,0],[16,6,12,6,"Animation"],[16,15,12,15],[16,18,12,18,"require"],[16,29,12,25],[16,63,12,0],[18,17,14,32,"require"],[18,28,14,39],[18,74],[19,6,14,7,"shouldUseNativeDriver"],[19,27],[19,39,14,7,"shouldUseNativeDriver"],[19,60],[21,6,29,6,"DecayAnimation"],[21,20],[24,0,39,2],[24,28,39,14,"config"],[24,34,39,2],[24,36,39,50],[25,0,39,50],[27,0,39,50],[29,0,40,4],[30,0,41,4],[30,12,41,9,"_deceleration"],[30,25,41,4],[30,28,42,6,"config"],[30,34,42,12],[30,35,42,13,"deceleration"],[30,47,42,6],[30,52,42,30,"undefined"],[30,61,42,6],[30,64,42,42,"config"],[30,70,42,48],[30,71,42,49,"deceleration"],[30,83,42,6],[30,86,42,64],[30,91,41,4],[31,0,43,4],[31,12,43,9,"_velocity"],[31,21,43,4],[31,24,43,21,"config"],[31,30,43,27],[31,31,43,28,"velocity"],[31,39,43,4],[32,0,44,4],[32,12,44,9,"_useNativeDriver"],[32,28,44,4],[32,31,44,28,"shouldUseNativeDriver"],[32,52,44,49],[32,53,44,50,"config"],[32,59,44,49],[32,60,44,4],[33,0,45,4],[33,12,45,9,"__isInteraction"],[33,27,45,4],[33,30,46,6,"config"],[33,36,46,12],[33,37,46,13,"isInteraction"],[33,50,46,6],[33,55,46,31,"undefined"],[33,64,46,6],[33,67,46,43,"config"],[33,73,46,49],[33,74,46,50,"isInteraction"],[33,87,46,6],[33,90,46,66],[33,94,45,4],[34,0,47,4],[34,12,47,9,"__iterations"],[34,24,47,4],[34,27,47,24,"config"],[34,33,47,30],[34,34,47,31,"iterations"],[34,44,47,24],[34,49,47,46,"undefined"],[34,58,47,24],[34,61,47,58,"config"],[34,67,47,64],[34,68,47,65,"iterations"],[34,78,47,24],[34,81,47,78],[34,82,47,4],[35,0,39,50],[36,0,48,3],[40,51,50,31],[41,0,51,4],[41,15,51,11],[42,0,52,6,"type"],[42,10,52,6,"type"],[42,14,52,10],[42,16,52,12],[42,23,51,11],[43,0,53,6,"deceleration"],[43,10,53,6,"deceleration"],[43,22,53,18],[43,24,53,20],[43,29,53,25,"_deceleration"],[43,42,51,11],[44,0,54,6,"velocity"],[44,10,54,6,"velocity"],[44,18,54,14],[44,20,54,16],[44,25,54,21,"_velocity"],[44,34,51,11],[45,0,55,6,"iterations"],[45,10,55,6,"iterations"],[45,20,55,16],[45,22,55,18],[45,27,55,23,"__iterations"],[46,0,51,11],[46,9,51,4],[47,0,57,3],[50,28,60,4,"fromValue"],[50,37],[50,39,61,4,"onUpdate"],[50,47],[50,49,62,4,"onEnd"],[50,54],[50,56,63,4,"previousAnimation"],[50,73],[50,75,64,4,"animatedValue"],[50,88],[50,90,65,10],[51,0,66,4],[51,13,66,9,"__active"],[51,21,66,4],[51,24,66,20],[51,28,66,4],[52,0,67,4],[52,13,67,9,"_lastValue"],[52,23,67,4],[52,26,67,22,"fromValue"],[52,35,67,4],[53,0,68,4],[53,13,68,9,"_fromValue"],[53,23,68,4],[53,26,68,22,"fromValue"],[53,35,68,4],[54,0,69,4],[54,13,69,9,"_onUpdate"],[54,22,69,4],[54,25,69,21,"onUpdate"],[54,33,69,4],[55,0,70,4],[55,13,70,9,"__onEnd"],[55,20,70,4],[55,23,70,19,"onEnd"],[55,28,70,4],[56,0,71,4],[56,13,71,9,"_startTime"],[56,23,71,4],[56,26,71,22,"Date"],[56,30,71,26],[56,31,71,27,"now"],[56,34,71,22],[56,36,71,4],[58,0,72,4],[58,12,72,8],[58,17,72,13,"_useNativeDriver"],[58,33,72,4],[58,35,72,31],[59,0,73,6],[59,15,73,11,"__startNativeAnimation"],[59,37,73,6],[59,38,73,34,"animatedValue"],[59,51,73,6],[60,0,74,5],[60,9,72,4],[60,15,74,11],[61,0,75,6],[61,15,75,11,"_animationFrame"],[61,30,75,6],[61,33,75,29,"requestAnimationFrame"],[61,54,75,50],[61,55,75,51],[61,60,75,56,"onUpdate"],[61,68,75,51],[61,69,75,65,"bind"],[61,73,75,51],[61,74,75,70],[61,78,75,51],[61,79,75,50],[61,80,75,6],[62,0,76,5],[63,0,77,3],[66,33,79,19],[67,0,80,4],[67,12,80,10,"now"],[67,15,80,13],[67,18,80,16,"Date"],[67,22,80,20],[67,23,80,21,"now"],[67,26,80,16],[67,28,80,4],[68,0,82,4],[68,12,82,10,"value"],[68,17,82,15],[68,20,83,6],[68,25,83,11,"_fromValue"],[68,35,83,6],[68,38,84,7],[68,43,84,12,"_velocity"],[68,52,84,7],[68,56,84,25],[68,60,84,29],[68,65,84,34,"_deceleration"],[68,78,84,7],[68,79,84,6],[68,83,85,9],[68,87,85,13,"Math"],[68,91,85,17],[68,92,85,18,"exp"],[68,95,85,13],[68,96,85,22],[68,98,85,24],[68,102,85,28],[68,107,85,33,"_deceleration"],[68,120,85,22],[68,125,85,51,"now"],[68,128,85,54],[68,131,85,57],[68,136,85,62,"_startTime"],[68,146,85,22],[68,147,85,13],[68,148,84,6],[68,149,82,4],[70,0,87,4],[70,13,87,9,"_onUpdate"],[70,22,87,4],[70,23,87,19,"value"],[70,28,87,4],[72,0,89,4],[72,12,89,8,"Math"],[72,16,89,12],[72,17,89,13,"abs"],[72,20,89,8],[72,21,89,17],[72,26,89,22,"_lastValue"],[72,36,89,17],[72,39,89,35,"value"],[72,44,89,8],[72,48,89,44],[72,51,89,4],[72,53,89,49],[73,0,90,6],[73,15,90,11,"__debouncedOnEnd"],[73,31,90,6],[73,32,90,28],[74,0,90,29,"finished"],[74,12,90,29,"finished"],[74,20,90,37],[74,22,90,39],[75,0,90,28],[75,11,90,6],[77,0,91,6],[78,0,92,5],[80,0,94,4],[80,13,94,9,"_lastValue"],[80,23,94,4],[80,26,94,22,"value"],[80,31,94,4],[82,0,95,4],[82,12,95,8],[82,17,95,13,"__active"],[82,25,95,4],[82,27,95,23],[83,0,96,6],[83,15,96,11,"_animationFrame"],[83,30,96,6],[83,33,96,29,"requestAnimationFrame"],[83,54,96,50],[83,55,96,51],[83,60,96,56,"onUpdate"],[83,68,96,51],[83,69,96,65,"bind"],[83,73,96,51],[83,74,96,70],[83,78,96,51],[83,79,96,50],[83,80,96,6],[84,0,97,5],[85,0,98,3],[88,29,100,15],[89,0,101,4],[91,0,102,4],[91,13,102,9,"__active"],[91,21,102,4],[91,24,102,20],[91,29,102,4],[92,0,103,4,"global"],[92,8,103,4,"global"],[92,14,103,10],[92,15,103,11,"cancelAnimationFrame"],[92,35,103,4],[92,36,103,32],[92,41,103,37,"_animationFrame"],[92,56,103,4],[94,0,104,4],[94,13,104,9,"__debouncedOnEnd"],[94,29,104,4],[94,30,104,26],[95,0,104,27,"finished"],[95,10,104,27,"finished"],[95,18,104,35],[95,20,104,37],[96,0,104,26],[96,9,104,4],[97,0,105,3],[101,4,29,29,"Animation"],[101,13],[103,0,108,0,"module"],[103,2,108,0,"module"],[103,8,108,6],[103,9,108,7,"exports"],[103,16,108,0],[103,19,108,17,"DecayAnimation"],[103,33,108,0]]},"type":"js/module"}]}
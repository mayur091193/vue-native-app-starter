{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = createPointerEventsContainer;\n\n  var _extends2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/extends\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf3 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"@babel/runtime/helpers/inherits\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[8], \"react\"));\n\n  var _jsxFileName = \"/Users/satya/Workspace/Callstack/react-navigation-stack/src/views/StackView/createPointerEventsContainer.tsx\";\n  var MIN_POSITION_OFFSET = 0.01;\n\n  function createPointerEventsContainer(Component) {\n    var Container = function (_React$Component) {\n      (0, _inherits2.default)(Container, _React$Component);\n\n      function Container() {\n        var _getPrototypeOf2;\n\n        var _this;\n\n        (0, _classCallCheck2.default)(this, Container);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(Container)).call.apply(_getPrototypeOf2, [this].concat(args)));\n        _this.pointerEvents = _this.computePointerEvents();\n        _this.component = null;\n\n        _this.handleComponentRef = function (component) {\n          _this.component = component;\n\n          if (component && typeof component.setNativeProps !== 'function') {\n            throw new Error('Component must implement method `setNativeProps`');\n          }\n        };\n\n        _this.handlePositionChange = function () {\n          if (_this.component) {\n            var pointerEvents = _this.computePointerEvents();\n\n            if (_this.pointerEvents !== pointerEvents) {\n              _this.pointerEvents = pointerEvents;\n\n              _this.component.setNativeProps({\n                pointerEvents: pointerEvents\n              });\n            }\n          }\n        };\n\n        return _this;\n      }\n\n      (0, _createClass2.default)(Container, [{\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.positionListener && this.positionListener.remove();\n        }\n      }, {\n        key: \"bindPosition\",\n        value: function bindPosition() {\n          this.positionListener && this.positionListener.remove();\n          this.positionListener = new AnimatedValueSubscription(this.props.realPosition, this.handlePositionChange);\n        }\n      }, {\n        key: \"computePointerEvents\",\n        value: function computePointerEvents() {\n          var _this$props = this.props,\n              navigation = _this$props.navigation,\n              realPosition = _this$props.realPosition,\n              scene = _this$props.scene;\n\n          if (scene.isStale || navigation.state.index !== scene.index) {\n            return scene.index > navigation.state.index ? 'box-only' : 'none';\n          }\n\n          var offset = realPosition.__getAnimatedValue() - navigation.state.index;\n\n          if (Math.abs(offset) > MIN_POSITION_OFFSET) {\n            return 'box-only';\n          }\n\n          return 'auto';\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          this.bindPosition();\n          this.pointerEvents = this.computePointerEvents();\n          return React.createElement(Component, (0, _extends2.default)({}, this.props, {\n            pointerEvents: this.pointerEvents,\n            onComponentRef: this.handleComponentRef,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            }\n          }));\n        }\n      }]);\n      return Container;\n    }(React.Component);\n\n    return Container;\n  }\n\n  var AnimatedValueSubscription = function () {\n    function AnimatedValueSubscription(value, callback) {\n      (0, _classCallCheck2.default)(this, AnimatedValueSubscription);\n      this.value = value;\n      this.token = value.addListener(callback);\n    }\n\n    (0, _createClass2.default)(AnimatedValueSubscription, [{\n      key: \"remove\",\n      value: function remove() {\n        this.value.removeListener(this.token);\n      }\n    }]);\n    return AnimatedValueSubscription;\n  }();\n});","map":[[11,0,1,0],[13,0,1,53],[15,0,1,120],[17,0,1,181],[19,0,1,270],[21,0,1,337],[23,0,1,520],[25,0,1,392],[25,6,1,396,"_jsxFileName"],[25,18,1,408],[25,21,1,409],[25,131,1,392],[26,0,1,548],[26,6,1,552,"MIN_POSITION_OFFSET"],[26,25,1,571],[26,28,1,572],[26,32,1,548],[28,0,1,592],[28,11,1,601,"createPointerEventsContainer"],[28,39,1,592],[28,40,1,630,"Component"],[28,49,1,592],[28,51,1,640],[29,0,1,641],[29,8,1,645,"Container"],[29,17,1,654],[29,20,1,655],[29,30,1,664,"_React$Component"],[29,46,1,655],[29,48,1,681],[30,0,1,682],[30,30,1,692,"Container"],[30,39,1,682],[30,41,1,702,"_React$Component"],[30,57,1,682],[32,0,1,720],[32,15,1,729,"Container"],[32,24,1,720],[32,27,1,740],[33,0,1,741],[33,12,1,745,"_getPrototypeOf2"],[33,28,1,741],[35,0,1,762],[35,12,1,766,"_this"],[35,17,1,762],[37,0,1,772],[37,38,1,788],[37,42,1,772],[37,44,1,793,"Container"],[37,53,1,772],[39,0,1,804],[39,13,1,808],[39,17,1,812,"_len"],[39,21,1,816],[39,24,1,817,"arguments"],[39,33,1,826],[39,34,1,827,"length"],[39,40,1,808],[39,42,1,834,"args"],[39,46,1,838],[39,49,1,839],[39,53,1,843,"Array"],[39,58,1,839],[39,59,1,849,"_len"],[39,63,1,839],[39,64,1,808],[39,66,1,855,"_key"],[39,70,1,859],[39,73,1,860],[39,74,1,804],[39,76,1,862,"_key"],[39,80,1,866],[39,83,1,867,"_len"],[39,87,1,804],[39,89,1,872,"_key"],[39,93,1,876],[39,95,1,804],[39,97,1,879],[40,0,1,880,"args"],[40,10,1,880,"args"],[40,14,1,884],[40,15,1,885,"_key"],[40,19,1,884],[40,20,1,880],[40,23,1,891,"arguments"],[40,32,1,900],[40,33,1,901,"_key"],[40,37,1,900],[40,38,1,880],[41,0,1,908],[43,0,1,908,"_this"],[43,8,1,908,"_this"],[43,13,1,913],[43,16,1,914],[43,57,1,941],[43,61,1,914],[43,63,1,946],[43,64,1,947,"_getPrototypeOf2"],[43,80,1,963],[43,83,1,964],[43,113,1,980,"Container"],[43,122,1,964],[43,123,1,946],[43,125,1,992,"call"],[43,129,1,946],[43,130,1,997,"apply"],[43,135,1,946],[43,136,1,1003,"_getPrototypeOf2"],[43,152,1,946],[43,154,1,1020],[43,155,1,1021],[43,159,1,1020],[43,161,1,1027,"concat"],[43,167,1,1020],[43,168,1,1034,"args"],[43,172,1,1020],[43,173,1,946],[43,174,1,914],[43,175,1,908],[44,0,1,1042,"_this"],[44,8,1,1042,"_this"],[44,13,1,1047],[44,14,1,1048,"pointerEvents"],[44,27,1,1042],[44,30,1,1062,"_this"],[44,35,1,1067],[44,36,1,1068,"computePointerEvents"],[44,56,1,1062],[44,58,1,1042],[45,0,1,1091,"_this"],[45,8,1,1091,"_this"],[45,13,1,1096],[45,14,1,1097,"component"],[45,23,1,1091],[45,26,1,1107],[45,30,1,1091],[47,0,1,1112,"_this"],[47,8,1,1112,"_this"],[47,13,1,1117],[47,14,1,1118,"handleComponentRef"],[47,32,1,1112],[47,35,1,1137],[47,45,1,1146,"component"],[47,54,1,1137],[47,56,1,1156],[48,0,1,1157,"_this"],[48,10,1,1157,"_this"],[48,15,1,1162],[48,16,1,1163,"component"],[48,25,1,1157],[48,28,1,1173,"component"],[48,37,1,1157],[50,0,1,1183],[50,14,1,1186,"component"],[50,23,1,1195],[50,27,1,1197],[50,34,1,1204,"component"],[50,43,1,1213],[50,44,1,1214,"setNativeProps"],[50,58,1,1197],[50,63,1,1231],[50,73,1,1183],[50,75,1,1242],[51,0,1,1243],[51,18,1,1249],[51,22,1,1253,"Error"],[51,27,1,1249],[51,28,1,1259],[51,78,1,1249],[51,79,1,1243],[52,0,1,1312],[53,0,1,1313],[53,9,1,1112],[55,0,1,1314,"_this"],[55,8,1,1314,"_this"],[55,13,1,1319],[55,14,1,1320,"handlePositionChange"],[55,34,1,1314],[55,37,1,1341],[55,49,1,1351],[56,0,1,1352],[56,14,1,1355,"_this"],[56,19,1,1360],[56,20,1,1361,"component"],[56,29,1,1352],[56,31,1,1371],[57,0,1,1372],[57,16,1,1376,"pointerEvents"],[57,29,1,1389],[57,32,1,1390,"_this"],[57,37,1,1395],[57,38,1,1396,"computePointerEvents"],[57,58,1,1390],[57,60,1,1372],[59,0,1,1419],[59,16,1,1422,"_this"],[59,21,1,1427],[59,22,1,1428,"pointerEvents"],[59,35,1,1422],[59,40,1,1444,"pointerEvents"],[59,53,1,1419],[59,55,1,1458],[60,0,1,1459,"_this"],[60,14,1,1459,"_this"],[60,19,1,1464],[60,20,1,1465,"pointerEvents"],[60,33,1,1459],[60,36,1,1479,"pointerEvents"],[60,49,1,1459],[62,0,1,1493,"_this"],[62,14,1,1493,"_this"],[62,19,1,1498],[62,20,1,1499,"component"],[62,29,1,1493],[62,30,1,1509,"setNativeProps"],[62,44,1,1493],[62,45,1,1524],[63,0,1,1525,"pointerEvents"],[63,16,1,1525,"pointerEvents"],[63,29,1,1538],[63,31,1,1539,"pointerEvents"],[64,0,1,1524],[64,15,1,1493],[65,0,1,1556],[66,0,1,1557],[67,0,1,1558],[67,9,1,1314],[69,0,1,1559],[69,15,1,1566,"_this"],[69,20,1,1559],[70,0,1,1573],[72,0,1,1573],[72,33,1,1586,"Container"],[72,42,1,1573],[72,44,1,1596],[72,45,1,1597],[73,0,1,1598,"key"],[73,8,1,1598,"key"],[73,11,1,1601],[73,13,1,1602],[73,35,1,1597],[74,0,1,1625,"value"],[74,8,1,1625,"value"],[74,13,1,1630],[74,15,1,1631],[74,24,1,1640,"componentWillUnmount"],[74,44,1,1631],[74,47,1,1662],[75,0,1,1663],[75,15,1,1668,"positionListener"],[75,31,1,1663],[75,35,1,1686],[75,40,1,1691,"positionListener"],[75,56,1,1686],[75,57,1,1708,"remove"],[75,63,1,1686],[75,65,1,1663],[76,0,1,1718],[77,0,1,1597],[77,7,1,1596],[77,9,1,1720],[78,0,1,1721,"key"],[78,8,1,1721,"key"],[78,11,1,1724],[78,13,1,1725],[78,27,1,1720],[79,0,1,1740,"value"],[79,8,1,1740,"value"],[79,13,1,1745],[79,15,1,1746],[79,24,1,1755,"bindPosition"],[79,36,1,1746],[79,39,1,1769],[80,0,1,1770],[80,15,1,1775,"positionListener"],[80,31,1,1770],[80,35,1,1793],[80,40,1,1798,"positionListener"],[80,56,1,1793],[80,57,1,1815,"remove"],[80,63,1,1793],[80,65,1,1770],[81,0,1,1824],[81,15,1,1829,"positionListener"],[81,31,1,1824],[81,34,1,1846],[81,38,1,1850,"AnimatedValueSubscription"],[81,63,1,1846],[81,64,1,1876],[81,69,1,1881,"props"],[81,74,1,1876],[81,75,1,1887,"realPosition"],[81,87,1,1846],[81,89,1,1900],[81,94,1,1905,"handlePositionChange"],[81,114,1,1846],[81,115,1,1824],[82,0,1,1928],[83,0,1,1720],[83,7,1,1596],[83,9,1,1930],[84,0,1,1931,"key"],[84,8,1,1931,"key"],[84,11,1,1934],[84,13,1,1935],[84,35,1,1930],[85,0,1,1958,"value"],[85,8,1,1958,"value"],[85,13,1,1963],[85,15,1,1964],[85,24,1,1973,"computePointerEvents"],[85,44,1,1964],[85,47,1,1995],[86,0,1,1996],[86,14,1,2000,"_this$props"],[86,25,1,2011],[86,28,1,2012],[86,33,1,2017,"props"],[86,38,1,1996],[87,0,1,1996],[87,14,1,2023,"navigation"],[87,24,1,2033],[87,27,1,2034,"_this$props"],[87,38,1,2045],[87,39,1,2046,"navigation"],[87,49,1,1996],[88,0,1,1996],[88,14,1,2057,"realPosition"],[88,26,1,2069],[88,29,1,2070,"_this$props"],[88,40,1,2081],[88,41,1,2082,"realPosition"],[88,53,1,1996],[89,0,1,1996],[89,14,1,2095,"scene"],[89,19,1,2100],[89,22,1,2101,"_this$props"],[89,33,1,2112],[89,34,1,2113,"scene"],[89,39,1,1996],[91,0,1,2119],[91,14,1,2122,"scene"],[91,19,1,2127],[91,20,1,2128,"isStale"],[91,27,1,2122],[91,31,1,2137,"navigation"],[91,41,1,2147],[91,42,1,2148,"state"],[91,47,1,2137],[91,48,1,2154,"index"],[91,53,1,2137],[91,58,1,2162,"scene"],[91,63,1,2167],[91,64,1,2168,"index"],[91,69,1,2119],[91,71,1,2174],[92,0,1,2175],[92,19,1,2182,"scene"],[92,24,1,2187],[92,25,1,2188,"index"],[92,30,1,2182],[92,33,1,2194,"navigation"],[92,43,1,2204],[92,44,1,2205,"state"],[92,49,1,2194],[92,50,1,2211,"index"],[92,55,1,2182],[92,58,1,2217],[92,68,1,2182],[92,71,1,2228],[92,77,1,2175],[93,0,1,2236],[95,0,1,2236],[95,14,1,2240,"offset"],[95,20,1,2246],[95,23,1,2247,"realPosition"],[95,35,1,2259],[95,36,1,2260,"__getAnimatedValue"],[95,54,1,2247],[95,59,1,2281,"navigation"],[95,69,1,2291],[95,70,1,2292,"state"],[95,75,1,2281],[95,76,1,2298,"index"],[95,81,1,2236],[97,0,1,2304],[97,14,1,2307,"Math"],[97,18,1,2311],[97,19,1,2312,"abs"],[97,22,1,2307],[97,23,1,2316,"offset"],[97,29,1,2307],[97,33,1,2324,"MIN_POSITION_OFFSET"],[97,52,1,2304],[97,54,1,2344],[98,0,1,2345],[98,19,1,2351],[98,29,1,2345],[99,0,1,2363],[101,0,1,2363],[101,17,1,2369],[101,23,1,2363],[102,0,1,2377],[103,0,1,1930],[103,7,1,1596],[103,9,1,2379],[104,0,1,2380,"key"],[104,8,1,2380,"key"],[104,11,1,2383],[104,13,1,2384],[104,21,1,2379],[105,0,1,2393,"value"],[105,8,1,2393,"value"],[105,13,1,2398],[105,15,1,2399],[105,24,1,2408,"render"],[105,30,1,2399],[105,33,1,2416],[106,0,1,2417],[106,15,1,2422,"bindPosition"],[106,27,1,2417],[107,0,1,2437],[107,15,1,2442,"pointerEvents"],[107,28,1,2437],[107,31,1,2456],[107,36,1,2461,"computePointerEvents"],[107,56,1,2456],[107,58,1,2437],[108,0,1,2484],[108,17,1,2491,"React"],[108,22,1,2496],[108,23,1,2497,"createElement"],[108,36,1,2491],[108,37,1,2511,"Component"],[108,46,1,2491],[108,48,1,2521],[108,71,1,2530],[108,73,1,2521],[108,75,1,2533],[108,80,1,2538,"props"],[108,85,1,2521],[108,87,1,2544],[109,0,1,2545,"pointerEvents"],[109,12,1,2545,"pointerEvents"],[109,25,1,2558],[109,27,1,2559],[109,32,1,2564,"pointerEvents"],[109,45,1,2544],[110,0,1,2578,"onComponentRef"],[110,12,1,2578,"onComponentRef"],[110,26,1,2592],[110,28,1,2593],[110,33,1,2598,"handleComponentRef"],[110,51,1,2544],[111,0,1,2617,"__source"],[111,12,1,2617,"__source"],[111,20,1,2625],[111,22,1,2626],[112,0,1,2627,"fileName"],[112,14,1,2627,"fileName"],[112,22,1,2635],[112,24,1,2636,"_jsxFileName"],[112,36,1,2626],[113,0,1,2649,"lineNumber"],[113,14,1,2649,"lineNumber"],[113,24,1,2659],[113,26,1,2660],[114,0,1,2626],[115,0,1,2544],[115,11,1,2521],[115,12,1,2491],[115,13,1,2484],[116,0,1,2668],[117,0,1,2379],[117,7,1,1596],[117,8,1,1573],[118,0,1,2672],[118,13,1,2679,"Container"],[118,22,1,2672],[119,0,1,2690],[119,5,1,655],[119,6,1,2691,"React"],[119,11,1,2696],[119,12,1,2697,"Component"],[119,21,1,655],[119,22,1,641],[121,0,1,2708],[121,11,1,2715,"Container"],[121,20,1,2708],[122,0,1,2726],[124,0,1,2726],[124,6,1,2730,"AnimatedValueSubscription"],[124,31,1,2755],[124,34,1,2756],[124,46,1,2766],[125,0,1,2767],[125,13,1,2776,"AnimatedValueSubscription"],[125,38,1,2767],[125,39,1,2802,"value"],[125,44,1,2767],[125,46,1,2808,"callback"],[125,54,1,2767],[125,56,1,2817],[126,0,1,2818],[126,36,1,2834],[126,40,1,2818],[126,42,1,2839,"AnimatedValueSubscription"],[126,67,1,2818],[127,0,1,2866],[127,11,1,2871,"value"],[127,16,1,2866],[127,19,1,2877,"value"],[127,24,1,2866],[128,0,1,2883],[128,11,1,2888,"token"],[128,16,1,2883],[128,19,1,2894,"value"],[128,24,1,2899],[128,25,1,2900,"addListener"],[128,36,1,2894],[128,37,1,2912,"callback"],[128,45,1,2894],[128,46,1,2883],[129,0,1,2923],[131,0,1,2923],[131,31,1,2936,"AnimatedValueSubscription"],[131,56,1,2923],[131,58,1,2962],[131,59,1,2963],[132,0,1,2964,"key"],[132,6,1,2964,"key"],[132,9,1,2967],[132,11,1,2968],[132,19,1,2963],[133,0,1,2977,"value"],[133,6,1,2977,"value"],[133,11,1,2982],[133,13,1,2983],[133,22,1,2992,"remove"],[133,28,1,2983],[133,31,1,3000],[134,0,1,3001],[134,13,1,3006,"value"],[134,18,1,3001],[134,19,1,3012,"removeListener"],[134,33,1,3001],[134,34,1,3027],[134,39,1,3032,"token"],[134,44,1,3001],[135,0,1,3040],[136,0,1,2963],[136,5,1,2962],[136,6,1,2923],[137,0,1,3044],[137,11,1,3051,"AnimatedValueSubscription"],[137,36,1,3044],[138,0,1,3078],[138,3,1,2756],[138,5,1,2726]]},"type":"js/module"}]}
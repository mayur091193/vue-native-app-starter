{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"../ReanimatedModule","data":{"isAsync":false}},{"name":"./AnimatedNode","data":{"isAsync":false}},{"name":"./AnimatedValue","data":{"isAsync":false}},{"name":"./AnimatedAlways","data":{"isAsync":false}},{"name":"fbjs/lib/invariant","data":{"isAsync":false}},{"name":"./createEventObjectProxyPolyfill","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createAnimatedEvent = createAnimatedEvent;\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/inherits\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[6], \"react-native\");\n\n  var _ReanimatedModule = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"../ReanimatedModule\"));\n\n  var _AnimatedNode2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"./AnimatedNode\"));\n\n  var _AnimatedValue = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"./AnimatedValue\"));\n\n  var _AnimatedAlways = _$$_REQUIRE(_dependencyMap[10], \"./AnimatedAlways\");\n\n  var _invariant = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[11], \"fbjs/lib/invariant\"));\n\n  var _createEventObjectProxyPolyfill = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[12], \"./createEventObjectProxyPolyfill\"));\n\n  function sanitizeArgMapping(argMapping) {\n    var eventMappings = [];\n    var alwaysNodes = [];\n\n    var getNode = function getNode(node) {\n      if (_reactNative.Platform.OS === 'web') {\n        return node;\n      }\n\n      return node.__nodeID;\n    };\n\n    var traverse = function traverse(value, path) {\n      if (value instanceof _AnimatedValue.default) {\n        eventMappings.push(path.concat(getNode(value)));\n      } else if (typeof value === 'object' && value.__val) {\n        eventMappings.push(path.concat(getNode(value.__val)));\n      } else if (typeof value === 'function') {\n        var node = new _AnimatedValue.default(0);\n        alwaysNodes.push((0, _AnimatedAlways.createAnimatedAlways)(value(node)));\n        eventMappings.push(path.concat(getNode(node)));\n      } else if (typeof value === 'object') {\n        for (var key in value) {\n          traverse(value[key], path.concat(key));\n        }\n      }\n    };\n\n    (0, _invariant.default)(argMapping[0] && argMapping[0].nativeEvent, 'Native driven events only support animated values contained inside `nativeEvent`.');\n    var ev = argMapping[0].nativeEvent;\n\n    if (typeof ev === 'object') {\n      traverse(ev, []);\n    } else if (typeof ev === 'function') {\n      var proxyHandler = {\n        get: function get(target, name) {\n          if (name === '__isProxy') {\n            return true;\n          }\n\n          if (!target[name] && name !== '__val') {\n            target[name] = new Proxy({}, proxyHandler);\n          }\n\n          return target[name];\n        },\n        set: function set(target, prop, value) {\n          if (prop === '__val') {\n            target[prop] = value;\n            return true;\n          }\n\n          return false;\n        }\n      };\n      var proxy = typeof Proxy === 'function' ? new Proxy({}, proxyHandler) : (0, _createEventObjectProxyPolyfill.default)();\n      alwaysNodes.push((0, _AnimatedAlways.createAnimatedAlways)(ev(proxy)));\n      traverse(proxy, []);\n    }\n\n    return {\n      eventMappings: eventMappings,\n      alwaysNodes: alwaysNodes\n    };\n  }\n\n  var AnimatedEvent = function (_AnimatedNode) {\n    (0, _inherits2.default)(AnimatedEvent, _AnimatedNode);\n\n    function AnimatedEvent(argMapping) {\n      var _this;\n\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      (0, _classCallCheck2.default)(this, AnimatedEvent);\n\n      var _sanitizeArgMapping = sanitizeArgMapping(argMapping),\n          eventMappings = _sanitizeArgMapping.eventMappings,\n          alwaysNodes = _sanitizeArgMapping.alwaysNodes;\n\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(AnimatedEvent).call(this, {\n        type: 'event',\n        argMapping: eventMappings\n      }));\n      _this.__isNative = true;\n      _this._alwaysNodes = alwaysNodes;\n      return _this;\n    }\n\n    (0, _createClass2.default)(AnimatedEvent, [{\n      key: \"toString\",\n      value: function toString() {\n        return \"AnimatedEvent, id: \" + this.__nodeID;\n      }\n    }, {\n      key: \"attachEvent\",\n      value: function attachEvent(viewRef, eventName) {\n        for (var i = 0; i < this._alwaysNodes.length; i++) {\n          this._alwaysNodes[i].__attach();\n        }\n\n        this.__attach();\n\n        var viewTag = (0, _reactNative.findNodeHandle)(viewRef);\n\n        _ReanimatedModule.default.attachEvent(viewTag, eventName, this.__nodeID);\n      }\n    }, {\n      key: \"__onEvaluate\",\n      value: function __onEvaluate() {\n        return 0;\n      }\n    }, {\n      key: \"detachEvent\",\n      value: function detachEvent(viewRef, eventName) {\n        for (var i = 0; i < this._alwaysNodes.length; i++) {\n          this._alwaysNodes[i].isNativelyInitialized() && this._alwaysNodes[i].__detach();\n        }\n\n        var viewTag = (0, _reactNative.findNodeHandle)(viewRef);\n\n        _ReanimatedModule.default.detachEvent(viewTag, eventName, this.__nodeID);\n\n        this.__detach();\n      }\n    }]);\n    return AnimatedEvent;\n  }(_AnimatedNode2.default);\n\n  exports.default = AnimatedEvent;\n\n  function createAnimatedEvent(argMapping, config) {\n    return new AnimatedEvent(argMapping, config);\n  }\n});","map":[[20,0,1,0],[22,0,2,0],[24,0,4,0],[26,0,5,0],[28,0,6,0],[30,0,8,0],[32,0,9,0],[34,0,11,0],[34,11,11,9,"sanitizeArgMapping"],[34,29,11,0],[34,30,11,28,"argMapping"],[34,40,11,0],[34,42,11,40],[35,0,14,2],[35,8,14,8,"eventMappings"],[35,21,14,21],[35,24,14,24],[35,26,14,2],[36,0,15,2],[36,8,15,8,"alwaysNodes"],[36,19,15,19],[36,22,15,22],[36,24,15,2],[38,0,17,2],[38,8,17,8,"getNode"],[38,15,17,15],[38,18,17,18],[38,27,17,8,"getNode"],[38,34,17,18],[38,35,17,18,"node"],[38,39,17,22],[38,41,17,26],[39,0,18,4],[39,10,18,8,"Platform"],[39,32,18,17,"OS"],[39,34,18,8],[39,39,18,24],[39,44,18,4],[39,46,18,31],[40,0,19,6],[40,15,19,13,"node"],[40,19,19,6],[41,0,20,5],[43,0,21,4],[43,13,21,11,"node"],[43,17,21,15],[43,18,21,16,"__nodeID"],[43,26,21,4],[44,0,22,3],[44,5,17,2],[46,0,24,2],[46,8,24,8,"traverse"],[46,16,24,16],[46,19,24,19],[46,28,24,8,"traverse"],[46,36,24,19],[46,37,24,20,"value"],[46,42,24,19],[46,44,24,27,"path"],[46,48,24,19],[46,50,24,36],[47,0,25,4],[47,10,25,8,"value"],[47,15,25,13],[47,27,25,25,"InternalAnimatedValue"],[47,49,25,4],[47,51,25,48],[48,0,26,6,"eventMappings"],[48,8,26,6,"eventMappings"],[48,21,26,19],[48,22,26,20,"push"],[48,26,26,6],[48,27,26,25,"path"],[48,31,26,29],[48,32,26,30,"concat"],[48,38,26,25],[48,39,26,37,"getNode"],[48,46,26,44],[48,47,26,45,"value"],[48,52,26,44],[48,53,26,25],[48,54,26,6],[49,0,27,5],[49,7,25,4],[49,13,27,11],[49,17,27,15],[49,24,27,22,"value"],[49,29,27,15],[49,34,27,32],[49,42,27,15],[49,46,27,44,"value"],[49,51,27,49],[49,52,27,50,"__val"],[49,57,27,11],[49,59,27,57],[50,0,28,6,"eventMappings"],[50,8,28,6,"eventMappings"],[50,21,28,19],[50,22,28,20,"push"],[50,26,28,6],[50,27,28,25,"path"],[50,31,28,29],[50,32,28,30,"concat"],[50,38,28,25],[50,39,28,37,"getNode"],[50,46,28,44],[50,47,28,45,"value"],[50,52,28,50],[50,53,28,51,"__val"],[50,58,28,44],[50,59,28,25],[50,60,28,6],[51,0,29,5],[51,7,27,11],[51,13,29,11],[51,17,29,15],[51,24,29,22,"value"],[51,29,29,15],[51,34,29,32],[51,44,29,11],[51,46,29,44],[52,0,30,6],[52,12,30,12,"node"],[52,16,30,16],[52,19,30,19],[52,23,30,23,"InternalAnimatedValue"],[52,45,30,19],[52,46,30,45],[52,47,30,19],[52,48,30,6],[53,0,31,6,"alwaysNodes"],[53,8,31,6,"alwaysNodes"],[53,19,31,17],[53,20,31,18,"push"],[53,24,31,6],[53,25,31,23],[53,67,31,44,"value"],[53,72,31,49],[53,73,31,50,"node"],[53,77,31,49],[53,78,31,23],[53,79,31,6],[54,0,32,6,"eventMappings"],[54,8,32,6,"eventMappings"],[54,21,32,19],[54,22,32,20,"push"],[54,26,32,6],[54,27,32,25,"path"],[54,31,32,29],[54,32,32,30,"concat"],[54,38,32,25],[54,39,32,37,"getNode"],[54,46,32,44],[54,47,32,45,"node"],[54,51,32,44],[54,52,32,25],[54,53,32,6],[55,0,33,5],[55,7,29,11],[55,13,33,11],[55,17,33,15],[55,24,33,22,"value"],[55,29,33,15],[55,34,33,32],[55,42,33,11],[55,44,33,42],[56,0,34,6],[56,13,34,11],[56,17,34,17,"key"],[56,20,34,6],[56,24,34,24,"value"],[56,29,34,6],[56,31,34,31],[57,0,35,8,"traverse"],[57,10,35,8,"traverse"],[57,18,35,16],[57,19,35,17,"value"],[57,24,35,22],[57,25,35,23,"key"],[57,28,35,22],[57,29,35,16],[57,31,35,29,"path"],[57,35,35,33],[57,36,35,34,"concat"],[57,42,35,29],[57,43,35,41,"key"],[57,46,35,29],[57,47,35,16],[57,48,35,8],[58,0,36,7],[59,0,37,5],[60,0,38,3],[60,5,24,2],[62,0,40,2],[62,28,41,4,"argMapping"],[62,38,41,14],[62,39,41,15],[62,40,41,14],[62,41,41,4],[62,45,41,21,"argMapping"],[62,55,41,31],[62,56,41,32],[62,57,41,31],[62,58,41,21],[62,59,41,35,"nativeEvent"],[62,70,40,2],[62,72,42,4],[62,155,40,2],[63,0,46,2],[63,8,46,8,"ev"],[63,10,46,10],[63,13,46,13,"argMapping"],[63,23,46,23],[63,24,46,24],[63,25,46,23],[63,26,46,13],[63,27,46,27,"nativeEvent"],[63,38,46,2],[65,0,47,2],[65,8,47,6],[65,15,47,13,"ev"],[65,17,47,6],[65,22,47,20],[65,30,47,2],[65,32,47,30],[66,0,48,4,"traverse"],[66,6,48,4,"traverse"],[66,14,48,12],[66,15,48,13,"ev"],[66,17,48,12],[66,19,48,17],[66,21,48,12],[66,22,48,4],[67,0,49,3],[67,5,47,2],[67,11,49,9],[67,15,49,13],[67,22,49,20,"ev"],[67,24,49,13],[67,29,49,27],[67,39,49,9],[67,41,49,39],[68,0,50,4],[68,10,50,10,"proxyHandler"],[68,22,50,22],[68,25,50,25],[69,0,51,6,"get"],[69,8,51,6,"get"],[69,11,51,9],[69,13,51,11],[69,26,51,20,"target"],[69,32,51,11],[69,34,51,28,"name"],[69,38,51,11],[69,40,51,34],[70,0,52,8],[70,14,52,12,"name"],[70,18,52,16],[70,23,52,21],[70,34,52,8],[70,36,52,34],[71,0,53,10],[71,19,53,17],[71,23,53,10],[72,0,54,9],[74,0,55,8],[74,14,55,12],[74,15,55,13,"target"],[74,21,55,19],[74,22,55,20,"name"],[74,26,55,19],[74,27,55,12],[74,31,55,29,"name"],[74,35,55,33],[74,40,55,38],[74,47,55,8],[74,49,55,47],[75,0,56,10,"target"],[75,12,56,10,"target"],[75,18,56,16],[75,19,56,17,"name"],[75,23,56,16],[75,24,56,10],[75,27,56,25],[75,31,56,29,"Proxy"],[75,36,56,25],[75,37,56,35],[75,39,56,25],[75,41,56,39,"proxyHandler"],[75,53,56,25],[75,54,56,10],[76,0,57,9],[78,0,58,8],[78,17,58,15,"target"],[78,23,58,21],[78,24,58,22,"name"],[78,28,58,21],[78,29,58,8],[79,0,59,7],[79,9,50,25],[80,0,60,6,"set"],[80,8,60,6,"set"],[80,11,60,9],[80,13,60,11],[80,26,60,20,"target"],[80,32,60,11],[80,34,60,28,"prop"],[80,38,60,11],[80,40,60,34,"value"],[80,45,60,11],[80,47,60,41],[81,0,61,8],[81,14,61,12,"prop"],[81,18,61,16],[81,23,61,21],[81,30,61,8],[81,32,61,30],[82,0,62,10,"target"],[82,12,62,10,"target"],[82,18,62,16],[82,19,62,17,"prop"],[82,23,62,16],[82,24,62,10],[82,27,62,25,"value"],[82,32,62,10],[83,0,63,10],[83,19,63,17],[83,23,63,10],[84,0,64,9],[86,0,65,8],[86,17,65,15],[86,22,65,8],[87,0,66,7],[88,0,50,25],[88,7,50,4],[89,0,69,4],[89,10,69,10,"proxy"],[89,15,69,15],[89,18,70,6],[89,25,70,13,"Proxy"],[89,30,70,6],[89,35,70,23],[89,45,70,6],[89,48,71,10],[89,52,71,14,"Proxy"],[89,57,71,10],[89,58,71,20],[89,60,71,10],[89,62,71,24,"proxyHandler"],[89,74,71,10],[89,75,70,6],[89,78,72,10],[89,124,69,4],[90,0,73,4,"alwaysNodes"],[90,6,73,4,"alwaysNodes"],[90,17,73,15],[90,18,73,16,"push"],[90,22,73,4],[90,23,73,21],[90,65,73,42,"ev"],[90,67,73,44],[90,68,73,45,"proxy"],[90,73,73,44],[90,74,73,21],[90,75,73,4],[91,0,74,4,"traverse"],[91,6,74,4,"traverse"],[91,14,74,12],[91,15,74,13,"proxy"],[91,20,74,12],[91,22,74,20],[91,24,74,12],[91,25,74,4],[92,0,75,3],[94,0,77,2],[94,11,77,9],[95,0,77,11,"eventMappings"],[95,6,77,11,"eventMappings"],[95,19,77,24],[95,21,77,11,"eventMappings"],[95,34,77,9],[96,0,77,26,"alwaysNodes"],[96,6,77,26,"alwaysNodes"],[96,17,77,37],[96,19,77,26,"alwaysNodes"],[97,0,77,9],[97,5,77,2],[98,0,78,1],[100,6,80,21,"AnimatedEvent"],[100,19],[103,0,81,2],[103,27,81,14,"argMapping"],[103,37,81,2],[103,39,81,39],[104,0,81,39],[106,0,81,39],[106,10,81,26,"config"],[106,16,81,39],[106,87,81,35],[106,89,81,39],[107,0,81,39],[109,0,81,39],[109,32,82,43,"sanitizeArgMapping"],[109,50,82,61],[109,51,82,62,"argMapping"],[109,61,82,61],[109,62,81,39],[110,0,81,39],[110,10,82,12,"eventMappings"],[110,23,81,39],[110,46,82,12,"eventMappings"],[110,59,81,39],[111,0,81,39],[111,10,82,27,"alwaysNodes"],[111,21,81,39],[111,44,82,27,"alwaysNodes"],[111,55,81,39],[113,0,83,4],[113,117,83,10],[114,0,83,12,"type"],[114,8,83,12,"type"],[114,12,83,16],[114,14,83,18],[114,21,83,10],[115,0,83,27,"argMapping"],[115,8,83,27,"argMapping"],[115,18,83,37],[115,20,83,39,"eventMappings"],[116,0,83,10],[116,7,83,4],[117,0,81,39],[117,12,94,2,"__isNative"],[117,22,81,39],[117,25,94,15],[117,29,81,39],[118,0,84,4],[118,12,84,9,"_alwaysNodes"],[118,24,84,4],[118,27,84,24,"alwaysNodes"],[118,38,84,4],[119,0,81,39],[120,0,85,3],[124,33,87,13],[125,0,88,4],[125,39,88,33],[125,44,88,38,"__nodeID"],[125,52,88,4],[126,0,89,3],[129,34,96,14,"viewRef"],[129,41],[129,43,96,23,"eventName"],[129,52],[129,54,96,34],[130,0,97,4],[130,13,97,9],[130,17,97,13,"i"],[130,18,97,14],[130,21,97,17],[130,22,97,4],[130,24,97,20,"i"],[130,25,97,21],[130,28,97,24],[130,33,97,29,"_alwaysNodes"],[130,45,97,24],[130,46,97,42,"length"],[130,52,97,4],[130,54,97,50,"i"],[130,55,97,51],[130,57,97,4],[130,59,97,55],[131,0,98,6],[131,15,98,11,"_alwaysNodes"],[131,27,98,6],[131,28,98,24,"i"],[131,29,98,6],[131,31,98,27,"__attach"],[131,39,98,6],[132,0,99,5],[134,0,100,4],[134,13,100,9,"__attach"],[134,21,100,4],[136,0,101,4],[136,12,101,10,"viewTag"],[136,19,101,17],[136,22,101,20],[136,55,101,35,"viewRef"],[136,62,101,20],[136,63,101,4],[138,0,102,4,"ReanimatedModule"],[138,34,102,21,"attachEvent"],[138,45,102,4],[138,46,102,33,"viewTag"],[138,53,102,4],[138,55,102,42,"eventName"],[138,64,102,4],[138,66,102,53],[138,71,102,58,"__nodeID"],[138,79,102,4],[139,0,103,3],[142,37,105,17],[143,0,106,4],[143,15,106,11],[143,16,106,4],[144,0,107,3],[147,34,109,14,"viewRef"],[147,41],[147,43,109,23,"eventName"],[147,52],[147,54,109,34],[148,0,110,4],[148,13,110,9],[148,17,110,13,"i"],[148,18,110,14],[148,21,110,17],[148,22,110,4],[148,24,110,20,"i"],[148,25,110,21],[148,28,110,24],[148,33,110,29,"_alwaysNodes"],[148,45,110,24],[148,46,110,42,"length"],[148,52,110,4],[148,54,110,50,"i"],[148,55,110,51],[148,57,110,4],[148,59,110,55],[149,0,111,6],[149,15,111,11,"_alwaysNodes"],[149,27,111,6],[149,28,111,24,"i"],[149,29,111,6],[149,31,111,27,"isNativelyInitialized"],[149,52,111,6],[149,58,112,8],[149,63,112,13,"_alwaysNodes"],[149,75,112,8],[149,76,112,26,"i"],[149,77,112,8],[149,79,112,29,"__detach"],[149,87,112,8],[149,89,111,6],[150,0,113,5],[152,0,114,4],[152,12,114,10,"viewTag"],[152,19,114,17],[152,22,114,20],[152,55,114,35,"viewRef"],[152,62,114,20],[152,63,114,4],[154,0,115,4,"ReanimatedModule"],[154,34,115,21,"detachEvent"],[154,45,115,4],[154,46,115,33,"viewTag"],[154,53,115,4],[154,55,115,42,"eventName"],[154,64,115,4],[154,66,115,53],[154,71,115,58,"__nodeID"],[154,79,115,4],[156,0,116,4],[156,13,116,9,"__detach"],[156,21,116,4],[157,0,117,3],[160,4,80,43,"AnimatedNode"],[160,26],[164,0,120,7],[164,11,120,16,"createAnimatedEvent"],[164,30,120,7],[164,31,120,36,"argMapping"],[164,41,120,7],[164,43,120,48,"config"],[164,49,120,7],[164,51,120,56],[165,0,121,2],[165,11,121,9],[165,15,121,13,"AnimatedEvent"],[165,28,121,9],[165,29,121,27,"argMapping"],[165,39,121,9],[165,41,121,39,"config"],[165,47,121,9],[165,48,121,2],[166,0,122,1]]},"type":"js/module"}]}